<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Testimonials - Sterling Dental Clinic</title>
  <link rel="stylesheet" href="styles.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    h1 {
      color: #007bff;
      text-align: center;
      margin-bottom: 30px;
    }

    nav {
      padding: 10px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin: 0 12px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 1rem;
    }

    nav a:hover {
      text-decoration: underline;
    }

    /* Burger button */
    .burger {
      display: none;
      cursor: pointer;
      flex-direction: column;
      gap: 5px;
      background: none;
      border: none;
      padding: 0;
    }

        .burger {
      display: none;
      cursor: pointer;
      flex-direction: column;
      gap: 5px;
    }

    .burger div {
      width: 25px;
      height: 3px;
      background: white;
      border-radius: 2px;
      transition: all 0.3s ease;
    }

    @media (max-width: 768px) {
      nav a {
        display: none;
        width: 100%;
        padding: 12px 0;
        border-top: 1px solid rgba(255,255,255,0.2);
        justify-content: center;
      }

      nav a.active {
        display: flex;
      }

      .burger {
        display: flex;
      }

      nav {
        flex-direction: column;
        align-items: flex-start;
      }

      .burger.active div:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }

      .burger.active div:nth-child(2) {
        opacity: 0;
      }

      .burger.active div:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -5px);
      }
    }

      nav {
        flex-direction: column;
        align-items: flex-start;
      }

      nav a {
        display: none;
        width: 100%;
        padding: 12px 0;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        justify-content: center;
      }

      nav.open a {
        display: flex;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content" style="display:flex; align-items:center; padding:10px 20px; color:white;">
      <a href="index.html#home" class="logo-link" style="margin-right: 15px;">
        <img src="sterlinglogo.jpg" alt="Sterling Dental Clinic Logo" class="logo" style="height:40px;" />
      </a>
      <div class="header-text">
        <h1 style="margin:0; font-size:1.5rem; color:white;">Sterling Dental Clinic</h1>
        <p class="tagline" style="margin:0; font-size:0.9rem;">Your trusted partner for exceptional dental care in Kampala</p>
      </div>
    </div>
    <nav>
    <div class="burger" id="burger">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <a href="#home"><i class="fas fa-home"></i> Home</a>
    <a href="services.html"><i class="fas fa-teeth"></i> Services</a>
    <a href="about.html"><i class="fas fa-info-circle"></i> About Us</a>
    <a href="#contact"><i class="fas fa-phone-alt"></i> Contact</a>
    <a href="testimonials.html"><i class="fas fa-quote-right testimonial-icon"></i> Testimonials</a>
    <a href="gallery.html"><i class="fas fa-images"></i> Gallery</a>
    <a href="#appointment"><i class="fas fa-calendar-check"></i> Book Appointment</a>
  </nav>
  </header>
     <h1>What Our Clients Say</h1>
     <div class="form-container">
       <h2>Share Your Experience</h2>
       </div>
    <div id="testimonials-container">
  <!-- Testimonials will be inserted here -->
</div>
      <footer>
    <div style="max-width: 1000px; margin: 0 auto; display: flex; flex-wrap: wrap; justify-content: space-between; text-align: left;">
      <div style="flex: 1; min-width: 200px; margin: 10px;">
        <h3>Sterling Dental Clinic</h3>
        <p>Providing exceptional dental care to Kampala since 2010.</p>
      </div>
      <div style="flex: 1; min-width: 200px; margin: 10px;">
        <h3>Quick Links</h3>
        <ul style="list-style: none; padding: 0;">
          <li><a href="index.html" style="color: #fff; text-decoration: none;">Home</a></li>
          <li><a href="services.html" style="color: #fff; text-decoration: none;">Services</a></li>
          <li><a href="about.html" style="color: #fff; text-decoration: none;">About Us</a></li>
          <li><a href="index.html" style="color: #fff; text-decoration: none;">Contact</a></li>
        </ul>
      </div>
      <div style="flex: 1; min-width: 200px; margin: 10px;">
        <h3>Contact Us</h3>
        <p>
          <i class="fas fa-map-marker-alt"></i> Garden City Mall, Kampala<br>
          <i class="fas fa-phone-alt"></i> +256 772 488592<br>
          <i class="fas fa-envelope"></i> info@kampalasterlingdentalclinic.com
        </p>
      </div>
    </div>
    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
      <p>© 2025 Sterling Dental Clinic. All rights reserved.</p>
      <div style="margin-top: 10px;">
        <a href="https://www.facebook.com/SterlingDentalPractice" style="color: #fff; margin: 0 10px; font-size: 20px;" title="Facebook"><i class="fab fa-facebook"></i></a>
        <a href="https://www.twitter.com/yourprofile" style="color: #fff; margin: 0 10px; font-size: 20px;" title="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="https://www.linkedin.com/accessibility?openinweb=true" style="color: #fff; margin: 0 10px; font-size: 20px;" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
        <a href="https://www.instagram.com/sterlingdentalclinic?igsh=MjZpdXk1cWsxeHQ1" style="color: #fff; margin: 0 10px; font-size: 20px;" title="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://www.snapchat.com/add/sterlingdental?share_id=PbJexKFCMqA&locale=en-US" style="color: #fff; margin: 0 10px; font-size: 20px;" title="Snapchat"><i class="fab fa-snapchat"></i></a>
        <a href="https://www.tiktok.com/@sterlingdentalclinic?_t=ZM-8wcxw0G6gEf&_r=1" style="color: #fff; margin: 0 10px; font-size: 20px;" title="TikTok"><i class="fab fa-tiktok"></i></a>
        <a href="https://wa.me/message/MGRPNC4UBTNFD1" style="color: #fff; margin: 0 10px; font-size: 20px;" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      </div>
    </div>
  </footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.49.8/dist/umd/supabase.min.js" onerror="this.onerror=null; this.src='./js/supabase.min.js';"></script>
<script>
  // Initialize Supabase client with your credentials
  if (typeof Supabase === 'undefined') {
    console.error('Supabase library failed to load. Check the CDN URL or network connection.');
    alert('Failed to load Supabase library. Please try again later.');
  } else {
    const supabase = Supabase.createClient(
      'https://emldrnonwflkbbnbughi.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtbGRybm9ud2Zsa2JibmJ1Z2hpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxOTEwMzQsImV4cCI6MjA2Mzc2NzAzNH0.R2PETzSHm0uGa-A62RjN9FJiQ2VSM_J5KcB7NeJ3AEU'
    );

    document.addEventListener('DOMContentLoaded', () => {
      const container = document.getElementById('testimonials-container');

      // Test Supabase connectivity on page load
      async function testSupabase() {
        try {
          const { data, error } = await supabase.from('testimonials').select('*').limit(1);
          if (error) {
            console.error('Supabase test error:', error);
            container.innerHTML = '<p>Error connecting to Supabase: ' + error.message + '</p>';
          } else {
            console.log('Supabase connection successful:', data);
          }
        } catch (err) {
          console.error('Unexpected error during Supabase test:', err);
          container.innerHTML = '<p>Unexpected error connecting to Supabase.</p>';
        }
      }

      testSupabase();

      // Fetch and display testimonials
      async function loadTestimonials() {
        try {
          const { data: testimonials, error } = await supabase
            .from('testimonials')
            .select('*')
            .order('created_at', { ascending: false });

          if (error) {
            console.error('Error fetching testimonials:', error);
            container.innerHTML = '<p>Error loading testimonials: ' + error.message + '</p>';
            return;
          }

          if (!testimonials || testimonials.length === 0) {
            container.innerHTML = '<p>No testimonials yet.</p>';
            return;
          }

          container.innerHTML = testimonials.map(t => `
            <div class="testimonial-card" style="border: 1px solid #0056b3; border-radius: 8px; padding: 15px; margin-bottom: 15px; background: #f0f8ff;">
              <h3 style="color: #003366; margin: 0 0 5px;">${escapeHtml(t.name)}</h3>
              <div style="color: #ffc107; font-size: 1.2em; margin-bottom: 10px;">
                ${renderStars(t.rating)}
              </div>
              <p style="color: #000; margin: 0 0 10px;">${escapeHtml(t.message)}</p>
              <small style="color: #666;">${new Date(t.created_at).toLocaleDateString()}</small>
            </div>
          `).join('');
        } catch (err) {
          console.error('Unexpected error:', err);
          container.innerHTML = '<p>Error loading testimonials.</p>';
        }
      }

      // Render star ratings
      function renderStars(rating) {
        let starsHtml = '';
        for (let i = 1; i <= 5; i++) {
          starsHtml += i <= rating ? '★' : '☆';
        }
        return starsHtml;
      }

      // Escape HTML to prevent XSS
      function escapeHtml(text) {
        return text.replace(/[&<>"']/g, (m) => ({
          '&': '&',
          '<': '<',
          '>': '>',
          '"': '"',
          "'": '''
        })[m]);
      }

      // Load testimonials on page load
      loadTestimonials();
    });
  }
</script>
  <script>
     // Navigation Script
    const burger = document.getElementById('burger');
    const navLinks = document.querySelectorAll('nav a');
    burger.addEventListener('click', () => {
      burger.classList.toggle('active');
      navLinks.forEach(link => {
        link.classList.toggle('active');
      });
    });

  </script>
   </body>
   </html>
    
